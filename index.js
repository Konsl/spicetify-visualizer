var ncsDvisualizer=(()=>{var e,t,i,r=Object.create,s=Object.defineProperty,n=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,a=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,p=(e,t,i)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,l=(t,i,r,a)=>{if(i&&"object"==typeof i||"function"==typeof i)for(let e of h(i))_.call(t,e)||e===r||s(t,e,{get:()=>i[e],enumerable:!(a=n(i,e))||a.enumerable});return t},d=(e,t,i)=>(i=null!=e?r(a(e)):{},l(!t&&e&&e.__esModule?i:s(i,"default",{value:e,enumerable:!0}),e)),u=(e,t,i)=>(p(e,"symbol"!=typeof t?t+"":t,i),i),m=(e={"external-global-plugin:react"(e,t){t.exports=Spicetify.React}},function(){return t||(0,e[h(e)[0]])((t={exports:{}}).exports,t),t.exports}),R={},D=R,y={default:()=>function(){return H.default.createElement(N,null)}};for(i in y)s(D,i,{get:y[i],enumerable:!0});var C=d(m()),P={container:"app-module__container___thHYo_ncsDvisualizer",unavailable_message:"app-module__unavailable_message___HYGlM_ncsDvisualizer"},f=d(m());function T(){return f.default.createElement("svg",{width:"100px",height:"100px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},f.default.createElement("circle",{cx:"50",cy:"50",r:"0",fill:"none",stroke:"currentColor","stroke-width":"2"},f.default.createElement("animate",{attributeName:"r",repeatCount:"indefinite",dur:"1s",values:"0;40",keyTimes:"0;1",keySplines:"0 0.2 0.8 1",calcMode:"spline",begin:"0s"}),f.default.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",values:"1;0",keyTimes:"0;1",keySplines:"0.2 0 0.8 1",calcMode:"spline",begin:"0s"})),f.default.createElement("circle",{cx:"50",cy:"50",r:"0",fill:"none",stroke:"currentColor","stroke-width":"2"},f.default.createElement("animate",{attributeName:"r",repeatCount:"indefinite",dur:"1s",values:"0;40",keyTimes:"0;1",keySplines:"0 0.2 0.8 1",calcMode:"spline",begin:"-0.5s"}),f.default.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",values:"1;0",keyTimes:"0;1",keySplines:"0.2 0 0.8 1",calcMode:"spline",begin:"-0.5s"})))}var V=d(m()),g=d(m());function S(e){const t=e,{draw:a,data:s,style:i,onResize:r}=t,n=((e,t)=>{var i={};for(r in e)_.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&o)for(var r of o(e))t.indexOf(r)<0&&c.call(e,r)&&(i[r]=e[r]);return i})(t,["draw","data","style","onResize"]),h=(0,g.useRef)(null),l=((0,g.useEffect)(()=>{if(a){var e=h.current;if(e){const i=e.getContext("2d");if(i){let t=0;const r=e=>{a(i,s,e),t=requestAnimationFrame(r)};return t=requestAnimationFrame(r),()=>{t&&cancelAnimationFrame(t)}}}}},[a,s]),new ResizeObserver(()=>{h.current&&r(h.current)}));return(0,g.useEffect)(()=>{if(h.current)return l.observe(h.current),()=>l.disconnect()},[]),g.default.createElement("canvas",((e,t)=>{for(var i in t=t||{})_.call(t,i)&&p(e,i,t[i]);if(o)for(var i of o(t))c.call(t,i)&&p(e,i,t[i]);return e})({ref:h,style:i},n))}function v(e,t){let i=0,r=e.length;for(;1<r-i;){var a=Math.floor((r+i)/2);e[a].x<=t?i=a:r=a}return i}function b(e){return Math.pow(10,e/20)}function G(e,t,i,r,a){return e=(e=(e-t)/(i-t))*(a-r)+r}function M(e,t){return-.5*(e.x-t.x)*(e.y+t.y)}function x(r,e,t){if(0==t)return s=v(n=r,a=e),i=n[s],s>n.length-2?i.y:(n=n[s+1],(s=(s=(a-i.x)/(n.x-i.x))*s*(3-2*s))*(n.y-i.y)+i.y);var a=e-t/2,s=e+t/2,n=v(r,a),h=v(r,s);let l=0;if(n==h){var i=r[n];if(n>r.length-2)return i.y;var e=r[n+1],o={x:a,y:G(a,i.x,e.x,i.y,e.y)},e={x:s,y:G(s,i.x,e.x,i.y,e.y)};l=M(o,e)}else{let t=r[n],i=r[n+1];o={x:a,y:G(a,t.x,i.x,t.y,i.y)};l=M(o,i);for(let e=n+1;e<h;e++)t=i,i=r[e+1],l+=M(t,i);t=i,h>r.length-2?l+=t.y*(s-t.x):(i=r[h+1],o={x:s,y:G(s,t.x,i.x,t.y,i.y)},l+=M(t,o))}return l/t}var L=class{_Seed=1337;_Frequency=.01;_NoiseType=L.NoiseType.OpenSimplex2;_RotationType3D=L.RotationType3D.None;_TransformType3D=L.TransformType3D.DefaultOpenSimplex2;_DomainWarpAmp=1;_FractalType=L.FractalType.None;_Octaves=3;_Lacunarity=2;_Gain=.5;_WeightedStrength=0;_PingPongStrength=2;_FractalBounding=1/1.75;_CellularDistanceFunction=L.CellularDistanceFunction.EuclideanSq;_CellularReturnType=L.CellularReturnType.Distance;_CellularJitterModifier=1;_DomainWarpType=L.DomainWarpType.OpenSimplex2;_WarpTransformType3D=L.TransformType3D.DefaultOpenSimplex2;constructor(e){void 0!==e&&(this._Seed=e)}SetSeed(e){this._Seed=e}SetFrequency(e){this._Frequency=e}SetNoiseType(e){this._NoiseType=e,this._UpdateTransformType3D()}SetRotationType3D(e){this._RotationType3D=e,this._UpdateTransformType3D(),this._UpdateWarpTransformType3D()}SetFractalType(e){this._FractalType=e}SetFractalOctaves(e){this._Octaves=e,this._CalculateFractalBounding()}SetFractalLacunarity(e){this._Lacunarity=e}SetFractalGain(e){this._Gain=e,this._CalculateFractalBounding()}SetFractalWeightedStrength(e){this._WeightedStrength=e}SetFractalPingPongStrength(e){this._PingPongStrength=e}SetCellularDistanceFunction(e){this._CellularDistanceFunction=e}SetCellularReturnType(e){this._CellularReturnType=e}SetCellularJitter(e){this._CellularJitterModifier=e}SetDomainWarpType(e){this._DomainWarpType=e,this._UpdateWarpTransformType3D()}SetDomainWarpAmp(e){this._DomainWarpAmp=e}GetNoise(e,t,i){var r=(e,t)=>{switch(e*=this._Frequency,t*=this._Frequency,this._NoiseType){case L.NoiseType.OpenSimplex2:case L.NoiseType.OpenSimplex2S:var i=.3660254037844386*(e+t);e+=i,t+=i}switch(this._FractalType){default:return this._GenNoiseSingleR2(this._Seed,e,t);case L.FractalType.FBm:return this._GenFractalFBmR2(e,t);case L.FractalType.Ridged:return this._GenFractalRidgedR2(e,t);case L.FractalType.PingPong:return this._GenFractalPingPongR2(e,t)}},a=(e,t,i)=>{switch(e*=this._Frequency,t*=this._Frequency,i*=this._Frequency,this._TransformType3D){case L.TransformType3D.ImproveXYPlanes:var r=e+t,a=-.211324865405187*r;e+=a-(i*=.577350269189626),t+=a-i,i+=.577350269189626*r;break;case L.TransformType3D.ImproveXZPlanes:a=e+i,r=-.211324865405187*a;e+=r-(t*=.577350269189626),i+=r-t,t+=.577350269189626*a;break;case L.TransformType3D.DefaultOpenSimplex2:r=(e+t+i)*(2/3);e=r-e,t=r-t,i=r-i}switch(this._FractalType){default:return this._GenNoiseSingleR3(this._Seed,e,t,i);case L.FractalType.FBm:return this._GenFractalFBmR3(e,t,i);case L.FractalType.Ridged:return this._GenFractalRidgedR3(e,t,i);case L.FractalType.PingPong:return this._GenFractalPingPongR3(e,t,i)}};return 2===arguments.length?r(e,t):3===arguments.length?a(e,t,i):void 0}DomainWrap(e){switch(this._FractalType){default:this._DomainWarpSingle(e);break;case L.FractalType.DomainWarpProgressive:this._DomainWarpFractalProgressive(e);break;case L.FractalType.DomainWarpIndependent:this._DomainWarpFractalIndependent(e)}}_Gradients2D=[.130526192220052,.99144486137381,.38268343236509,.923879532511287,.608761429008721,.793353340291235,.793353340291235,.608761429008721,.923879532511287,.38268343236509,.99144486137381,.130526192220051,.99144486137381,-.130526192220051,.923879532511287,-.38268343236509,.793353340291235,-.60876142900872,.608761429008721,-.793353340291235,.38268343236509,-.923879532511287,.130526192220052,-.99144486137381,-.130526192220052,-.99144486137381,-.38268343236509,-.923879532511287,-.608761429008721,-.793353340291235,-.793353340291235,-.608761429008721,-.923879532511287,-.38268343236509,-.99144486137381,-.130526192220052,-.99144486137381,.130526192220051,-.923879532511287,.38268343236509,-.793353340291235,.608761429008721,-.608761429008721,.793353340291235,-.38268343236509,.923879532511287,-.130526192220052,.99144486137381,.130526192220052,.99144486137381,.38268343236509,.923879532511287,.608761429008721,.793353340291235,.793353340291235,.608761429008721,.923879532511287,.38268343236509,.99144486137381,.130526192220051,.99144486137381,-.130526192220051,.923879532511287,-.38268343236509,.793353340291235,-.60876142900872,.608761429008721,-.793353340291235,.38268343236509,-.923879532511287,.130526192220052,-.99144486137381,-.130526192220052,-.99144486137381,-.38268343236509,-.923879532511287,-.608761429008721,-.793353340291235,-.793353340291235,-.608761429008721,-.923879532511287,-.38268343236509,-.99144486137381,-.130526192220052,-.99144486137381,.130526192220051,-.923879532511287,.38268343236509,-.793353340291235,.608761429008721,-.608761429008721,.793353340291235,-.38268343236509,.923879532511287,-.130526192220052,.99144486137381,.130526192220052,.99144486137381,.38268343236509,.923879532511287,.608761429008721,.793353340291235,.793353340291235,.608761429008721,.923879532511287,.38268343236509,.99144486137381,.130526192220051,.99144486137381,-.130526192220051,.923879532511287,-.38268343236509,.793353340291235,-.60876142900872,.608761429008721,-.793353340291235,.38268343236509,-.923879532511287,.130526192220052,-.99144486137381,-.130526192220052,-.99144486137381,-.38268343236509,-.923879532511287,-.608761429008721,-.793353340291235,-.793353340291235,-.608761429008721,-.923879532511287,-.38268343236509,-.99144486137381,-.130526192220052,-.99144486137381,.130526192220051,-.923879532511287,.38268343236509,-.793353340291235,.608761429008721,-.608761429008721,.793353340291235,-.38268343236509,.923879532511287,-.130526192220052,.99144486137381,.130526192220052,.99144486137381,.38268343236509,.923879532511287,.608761429008721,.793353340291235,.793353340291235,.608761429008721,.923879532511287,.38268343236509,.99144486137381,.130526192220051,.99144486137381,-.130526192220051,.923879532511287,-.38268343236509,.793353340291235,-.60876142900872,.608761429008721,-.793353340291235,.38268343236509,-.923879532511287,.130526192220052,-.99144486137381,-.130526192220052,-.99144486137381,-.38268343236509,-.923879532511287,-.608761429008721,-.793353340291235,-.793353340291235,-.608761429008721,-.923879532511287,-.38268343236509,-.99144486137381,-.130526192220052,-.99144486137381,.130526192220051,-.923879532511287,.38268343236509,-.793353340291235,.608761429008721,-.608761429008721,.793353340291235,-.38268343236509,.923879532511287,-.130526192220052,.99144486137381,.130526192220052,.99144486137381,.38268343236509,.923879532511287,.608761429008721,.793353340291235,.793353340291235,.608761429008721,.923879532511287,.38268343236509,.99144486137381,.130526192220051,.99144486137381,-.130526192220051,.923879532511287,-.38268343236509,.793353340291235,-.60876142900872,.608761429008721,-.793353340291235,.38268343236509,-.923879532511287,.130526192220052,-.99144486137381,-.130526192220052,-.99144486137381,-.38268343236509,-.923879532511287,-.608761429008721,-.793353340291235,-.793353340291235,-.608761429008721,-.923879532511287,-.38268343236509,-.99144486137381,-.130526192220052,-.99144486137381,.130526192220051,-.923879532511287,.38268343236509,-.793353340291235,.608761429008721,-.608761429008721,.793353340291235,-.38268343236509,.923879532511287,-.130526192220052,.99144486137381,.38268343236509,.923879532511287,.923879532511287,.38268343236509,.923879532511287,-.38268343236509,.38268343236509,-.923879532511287,-.38268343236509,-.923879532511287,-.923879532511287,-.38268343236509,-.923879532511287,.38268343236509,-.38268343236509,.923879532511287];_RandVecs2D=[-.2700222198,-.9628540911,.3863092627,-.9223693152,.04444859006,-.999011673,-.5992523158,-.8005602176,-.7819280288,.6233687174,.9464672271,.3227999196,-.6514146797,-.7587218957,.9378472289,.347048376,-.8497875957,-.5271252623,-.879042592,.4767432447,-.892300288,-.4514423508,-.379844434,-.9250503802,-.9951650832,.0982163789,.7724397808,-.6350880136,.7573283322,-.6530343002,-.9928004525,-.119780055,-.0532665713,.9985803285,.9754253726,-.2203300762,-.7665018163,.6422421394,.991636706,.1290606184,-.994696838,.1028503788,-.5379205513,-.84299554,.5022815471,-.8647041387,.4559821461,-.8899889226,-.8659131224,-.5001944266,.0879458407,-.9961252577,-.5051684983,.8630207346,.7753185226,-.6315704146,-.6921944612,.7217110418,-.5191659449,-.8546734591,.8978622882,-.4402764035,-.1706774107,.9853269617,-.9353430106,-.3537420705,-.9992404798,.03896746794,-.2882064021,-.9575683108,-.9663811329,.2571137995,-.8759714238,-.4823630009,-.8303123018,-.5572983775,.05110133755,-.9986934731,-.8558373281,-.5172450752,.09887025282,.9951003332,.9189016087,.3944867976,-.2439375892,-.9697909324,-.8121409387,-.5834613061,-.9910431363,.1335421355,.8492423985,-.5280031709,-.9717838994,-.2358729591,.9949457207,.1004142068,.6241065508,-.7813392434,.662910307,.7486988212,-.7197418176,.6942418282,-.8143370775,-.5803922158,.104521054,-.9945226741,-.1065926113,-.9943027784,.445799684,-.8951327509,.105547406,.9944142724,-.992790267,.1198644477,-.8334366408,.552615025,.9115561563,-.4111755999,.8285544909,-.5599084351,.7217097654,-.6921957921,.4940492677,-.8694339084,-.3652321272,-.9309164803,-.9696606758,.2444548501,.08925509731,-.996008799,.5354071276,-.8445941083,-.1053576186,.9944343981,-.9890284586,.1477251101,.004856104961,.9999882091,.9885598478,.1508291331,.9286129562,-.3710498316,-.5832393863,-.8123003252,.3015207509,.9534596146,-.9575110528,.2883965738,.9715802154,-.2367105511,.229981792,.9731949318,.955763816,-.2941352207,.740956116,.6715534485,-.9971513787,-.07542630764,.6905710663,-.7232645452,-.290713703,-.9568100872,.5912777791,-.8064679708,-.9454592212,-.325740481,.6664455681,.74555369,.6236134912,.7817328275,.9126993851,-.4086316587,-.8191762011,.5735419353,-.8812745759,-.4726046147,.9953313627,.09651672651,.9855650846,-.1692969699,-.8495980887,.5274306472,.6174853946,-.7865823463,.8508156371,.52546432,.9985032451,-.05469249926,.1971371563,-.9803759185,.6607855748,-.7505747292,-.03097494063,.9995201614,-.6731660801,.739491331,-.7195018362,-.6944905383,.9727511689,.2318515979,.9997059088,-.0242506907,.4421787429,-.8969269532,.9981350961,-.061043673,-.9173660799,-.3980445648,-.8150056635,-.5794529907,-.8789331304,.4769450202,.0158605829,.999874213,-.8095464474,.5870558317,-.9165898907,-.3998286786,-.8023542565,.5968480938,-.5176737917,.8555780767,-.8154407307,-.5788405779,.4022010347,-.9155513791,-.9052556868,-.4248672045,.7317445619,.6815789728,-.5647632201,-.8252529947,-.8403276335,-.5420788397,-.9314281527,.363925262,.5238198472,.8518290719,.7432803869,-.6689800195,-.985371561,-.1704197369,.4601468731,.88784281,.825855404,.5638819483,.6182366099,.7859920446,.8331502863,-.553046653,.1500307506,.9886813308,-.662330369,-.7492119075,-.668598664,.743623444,.7025606278,.7116238924,-.5419389763,-.8404178401,-.3388616456,.9408362159,.8331530315,.5530425174,-.2989720662,-.9542618632,.2638522993,.9645630949,.124108739,-.9922686234,-.7282649308,-.6852956957,.6962500149,.7177993569,-.9183535368,.3957610156,-.6326102274,-.7744703352,-.9331891859,-.359385508,-.1153779357,-.9933216659,.9514974788,-.3076565421,-.08987977445,-.9959526224,.6678496916,.7442961705,.7952400393,-.6062947138,-.6462007402,-.7631674805,-.2733598753,.9619118351,.9669590226,-.254931851,-.9792894595,.2024651934,-.5369502995,-.8436138784,-.270036471,-.9628500944,-.6400277131,.7683518247,-.7854537493,-.6189203566,.06005905383,-.9981948257,-.02455770378,.9996984141,-.65983623,.751409442,-.6253894466,-.7803127835,-.6210408851,-.7837781695,.8348888491,.5504185768,-.1592275245,.9872419133,.8367622488,.5475663786,-.8675753916,-.4973056806,-.2022662628,-.9793305667,.9399189937,.3413975472,.9877404807,-.1561049093,-.9034455656,.4287028224,.1269804218,-.9919052235,-.3819600854,.924178821,.9754625894,.2201652486,-.3204015856,-.9472818081,-.9874760884,.1577687387,.02535348474,-.9996785487,.4835130794,-.8753371362,-.2850799925,-.9585037287,-.06805516006,-.99768156,-.7885244045,-.6150034663,.3185392127,-.9479096845,.8880043089,.4598351306,.6476921488,-.7619021462,.9820241299,.1887554194,.9357275128,-.3527237187,-.8894895414,.4569555293,.7922791302,.6101588153,.7483818261,.6632681526,-.7288929755,-.6846276581,.8729032783,-.4878932944,.8288345784,.5594937369,.08074567077,.9967347374,.9799148216,-.1994165048,-.580730673,-.8140957471,-.4700049791,-.8826637636,.2409492979,.9705377045,.9437816757,-.3305694308,-.8927998638,-.4504535528,-.8069622304,.5906030467,.06258973166,.9980393407,-.9312597469,.3643559849,.5777449785,.8162173362,-.3360095855,-.941858566,.697932075,-.7161639607,-.002008157227,-.9999979837,-.1827294312,-.9831632392,-.6523911722,.7578824173,-.4302626911,-.9027037258,-.9985126289,-.05452091251,-.01028102172,-.9999471489,-.4946071129,.8691166802,-.2999350194,.9539596344,.8165471961,.5772786819,.2697460475,.962931498,-.7306287391,-.6827749597,-.7590952064,-.6509796216,-.907053853,.4210146171,-.5104861064,-.8598860013,.8613350597,.5080373165,.5007881595,-.8655698812,-.654158152,.7563577938,-.8382755311,-.545246856,.6940070834,.7199681717,.06950936031,.9975812994,.1702942185,-.9853932612,.2695973274,.9629731466,.5519612192,-.8338697815,.225657487,-.9742067022,.4215262855,-.9068161835,.4881873305,-.8727388672,-.3683854996,-.9296731273,-.9825390578,.1860564427,.81256471,.5828709909,.3196460933,-.9475370046,.9570913859,.2897862643,-.6876655497,-.7260276109,-.9988770922,-.047376731,-.1250179027,.992154486,-.8280133617,.560708367,.9324863769,-.3612051451,.6394653183,.7688199442,-.01623847064,-.9998681473,-.9955014666,-.09474613458,-.81453315,.580117012,.4037327978,-.9148769469,.9944263371,.1054336766,-.1624711654,.9867132919,-.9949487814,-.100383875,-.6995302564,.7146029809,.5263414922,-.85027327,-.5395221479,.841971408,.6579370318,.7530729462,.01426758847,-.9998982128,-.6734383991,.7392433447,.639412098,-.7688642071,.9211571421,.3891908523,-.146637214,-.9891903394,-.782318098,.6228791163,-.5039610839,-.8637263605,-.7743120191,-.6328039957];_Gradients3D=[0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,1,0,1,0,-1,0,1,0,1,0,-1,0,-1,0,-1,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,0,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,1,0,1,0,-1,0,1,0,1,0,-1,0,-1,0,-1,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,0,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,1,0,1,0,-1,0,1,0,1,0,-1,0,-1,0,-1,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,0,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,1,0,1,0,-1,0,1,0,1,0,-1,0,-1,0,-1,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,0,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,1,0,1,0,-1,0,1,0,1,0,-1,0,-1,0,-1,0,1,1,0,0,-1,1,0,0,1,-1,0,0,-1,-1,0,0,1,1,0,0,0,-1,1,0,-1,1,0,0,0,-1,-1,0];_RandVecs3D=[-.7292736885,-.6618439697,.1735581948,0,.790292081,-.5480887466,-.2739291014,0,.7217578935,.6226212466,-.3023380997,0,.565683137,-.8208298145,-.0790000257,0,.760049034,-.5555979497,-.3370999617,0,.3713945616,.5011264475,.7816254623,0,-.1277062463,-.4254438999,-.8959289049,0,-.2881560924,-.5815838982,.7607405838,0,.5849561111,-.662820239,-.4674352136,0,.3307171178,.0391653737,.94291689,0,.8712121778,-.4113374369,-.2679381538,0,.580981015,.7021915846,.4115677815,0,.503756873,.6330056931,-.5878203852,0,.4493712205,.601390195,.6606022552,0,-.6878403724,.09018890807,-.7202371714,0,-.5958956522,-.6469350577,.475797649,0,-.5127052122,.1946921978,-.8361987284,0,-.9911507142,-.05410276466,-.1212153153,0,-.2149721042,.9720882117,-.09397607749,0,-.7518650936,-.5428057603,.3742469607,0,.5237068895,.8516377189,-.02107817834,0,.6333504779,.1926167129,-.7495104896,0,-.06788241606,.3998305789,.9140719259,0,-.5538628599,-.4729896695,-.6852128902,0,-.7261455366,-.5911990757,.3509933228,0,-.9229274737,-.1782808786,.3412049336,0,-.6968815002,.6511274338,.3006480328,0,.9608044783,-.2098363234,-.1811724921,0,.06817146062,-.9743405129,.2145069156,0,-.3577285196,-.6697087264,-.6507845481,0,-.1868621131,.7648617052,-.6164974636,0,-.6541697588,.3967914832,.6439087246,0,.6993340405,-.6164538506,.3618239211,0,-.1546665739,.6291283928,.7617583057,0,-.6841612949,-.2580482182,-.6821542638,0,.5383980957,.4258654885,.7271630328,0,-.5026987823,-.7939832935,-.3418836993,0,.3202971715,.2834415347,.9039195862,0,.8683227101,-.0003762656404,-.4959995258,0,.791120031,-.08511045745,.6057105799,0,-.04011016052,-.4397248749,.8972364289,0,.9145119872,.3579346169,-.1885487608,0,-.9612039066,-.2756484276,.01024666929,0,.6510361721,-.2877799159,-.7023778346,0,-.2041786351,.7365237271,.644859585,0,-.7718263711,.3790626912,.5104855816,0,-.3060082741,-.7692987727,.5608371729,0,.454007341,-.5024843065,.7357899537,0,.4816795475,.6021208291,-.6367380315,0,.6961980369,-.3222197429,.641469197,0,-.6532160499,-.6781148932,.3368515753,0,.5089301236,-.6154662304,-.6018234363,0,-.1635919754,-.9133604627,-.372840892,0,.52408019,-.8437664109,.1157505864,0,.5902587356,.4983817807,-.6349883666,0,.5863227872,.494764745,.6414307729,0,.6779335087,.2341345225,.6968408593,0,.7177054546,-.6858979348,.120178631,0,-.5328819713,-.5205125012,.6671608058,0,-.8654874251,-.0700727088,-.4960053754,0,-.2861810166,.7952089234,.5345495242,0,-.04849529634,.9810836427,-.1874115585,0,-.6358521667,.6058348682,.4781800233,0,.6254794696,-.2861619734,.7258696564,0,-.2585259868,.5061949264,-.8227581726,0,.02136306781,.5064016808,-.8620330371,0,.200111773,.8599263484,.4695550591,0,.4743561372,.6014985084,-.6427953014,0,.6622993731,-.5202474575,-.5391679918,0,.08084972818,-.6532720452,.7527940996,0,-.6893687501,.0592860349,.7219805347,0,-.1121887082,-.9673185067,.2273952515,0,.7344116094,.5979668656,-.3210532909,0,.5789393465,-.2488849713,.7764570201,0,.6988182827,.3557169806,-.6205791146,0,-.8636845529,-.2748771249,-.4224826141,0,-.4247027957,-.4640880967,.777335046,0,.5257722489,-.8427017621,.1158329937,0,.9343830603,.316302472,-.1639543925,0,-.1016836419,-.8057303073,-.5834887393,0,-.6529238969,.50602126,-.5635892736,0,-.2465286165,-.9668205684,-.06694497494,0,-.9776897119,-.2099250524,-.007368825344,0,.7736893337,.5734244712,.2694238123,0,-.6095087895,.4995678998,.6155736747,0,.5794535482,.7434546771,.3339292269,0,-.8226211154,.08142581855,.5627293636,0,-.510385483,.4703667658,.7199039967,0,-.5764971849,-.07231656274,-.8138926898,0,.7250628871,.3949971505,-.5641463116,0,-.1525424005,.4860840828,-.8604958341,0,-.5550976208,-.4957820792,.667882296,0,-.1883614327,.9145869398,.357841725,0,.7625556724,-.5414408243,-.3540489801,0,-.5870231946,-.3226498013,-.7424963803,0,.3051124198,.2262544068,-.9250488391,0,.6379576059,.577242424,-.5097070502,0,-.5966775796,.1454852398,-.7891830656,0,-.658330573,.6555487542,-.3699414651,0,.7434892426,.2351084581,.6260573129,0,.5562114096,.8264360377,-.0873632843,0,-.3028940016,-.8251527185,.4768419182,0,.1129343818,-.985888439,-.1235710781,0,.5937652891,-.5896813806,.5474656618,0,.6757964092,-.5835758614,-.4502648413,0,.7242302609,-.1152719764,.6798550586,0,-.9511914166,.0753623979,-.2992580792,0,.2539470961,-.1886339355,.9486454084,0,.571433621,-.1679450851,-.8032795685,0,-.06778234979,.3978269256,.9149531629,0,.6074972649,.733060024,-.3058922593,0,-.5435478392,.1675822484,.8224791405,0,-.5876678086,-.3380045064,-.7351186982,0,-.7967562402,.04097822706,-.6029098428,0,-.1996350917,.8706294745,.4496111079,0,-.02787660336,-.9106232682,-.4122962022,0,-.7797625996,-.6257634692,.01975775581,0,-.5211232846,.7401644346,-.4249554471,0,.8575424857,.4053272873,-.3167501783,0,.1045223322,.8390195772,-.5339674439,0,.3501822831,.9242524096,-.1520850155,0,.1987849858,.07647613266,.9770547224,0,.7845996363,.6066256811,-.1280964233,0,.09006737436,-.9750989929,-.2026569073,0,-.8274343547,-.542299559,.1458203587,0,-.3485797732,-.415802277,.840000362,0,-.2471778936,-.7304819962,-.6366310879,0,-.3700154943,.8577948156,.3567584454,0,.5913394901,-.548311967,-.5913303597,0,.1204873514,-.7626472379,-.6354935001,0,.616959265,.03079647928,.7863922953,0,.1258156836,-.6640829889,-.7369967419,0,-.6477565124,-.1740147258,-.7417077429,0,.6217889313,-.7804430448,-.06547655076,0,.6589943422,-.6096987708,.4404473475,0,-.2689837504,-.6732403169,-.6887635427,0,-.3849775103,.5676542638,.7277093879,0,.5754444408,.8110471154,-.1051963504,0,.9141593684,.3832947817,.131900567,0,-.107925319,.9245493968,.3654593525,0,.377977089,.3043148782,.8743716458,0,-.2142885215,-.8259286236,.5214617324,0,.5802544474,.4148098596,-.7008834116,0,-.1982660881,.8567161266,-.4761596756,0,-.03381553704,.3773180787,-.9254661404,0,-.6867922841,-.6656597827,.2919133642,0,.7731742607,-.2875793547,-.5652430251,0,-.09655941928,.9193708367,-.3813575004,0,.2715702457,-.9577909544,-.09426605581,0,.2451015704,-.6917998565,-.6792188003,0,.977700782,-.1753855374,.1155036542,0,-.5224739938,.8521606816,.02903615945,0,-.7734880599,-.5261292347,.3534179531,0,-.7134492443,-.269547243,.6467878011,0,.1644037271,.5105846203,-.8439637196,0,.6494635788,.05585611296,.7583384168,0,-.4711970882,.5017280509,-.7254255765,0,-.6335764307,-.2381686273,-.7361091029,0,-.9021533097,-.270947803,-.3357181763,0,-.3793711033,.872258117,.3086152025,0,-.6855598966,-.3250143309,.6514394162,0,.2900942212,-.7799057743,-.5546100667,0,-.2098319339,.85037073,.4825351604,0,-.4592603758,.6598504336,-.5947077538,0,.8715945488,.09616365406,-.4807031248,0,-.6776666319,.7118504878,-.1844907016,0,.7044377633,.312427597,.637304036,0,-.7052318886,-.2401093292,-.6670798253,0,.081921007,-.7207336136,-.6883545647,0,-.6993680906,-.5875763221,-.4069869034,0,-.1281454481,.6419895885,.7559286424,0,-.6337388239,-.6785471501,-.3714146849,0,.5565051903,-.2168887573,-.8020356851,0,-.5791554484,.7244372011,-.3738578718,0,.1175779076,-.7096451073,.6946792478,0,-.6134619607,.1323631078,.7785527795,0,.6984635305,-.02980516237,-.715024719,0,.8318082963,-.3930171956,.3919597455,0,.1469576422,.05541651717,-.9875892167,0,.708868575,-.2690503865,.6520101478,0,.2726053183,.67369766,-.68688995,0,-.6591295371,.3035458599,-.6880466294,0,.4815131379,-.7528270071,.4487723203,0,.9430009463,.1675647412,-.2875261255,0,.434802957,.7695304522,-.4677277752,0,.3931996188,.594473625,.7014236729,0,.7254336655,-.603925654,.3301814672,0,.7590235227,-.6506083235,.02433313207,0,-.8552768592,-.3430042733,.3883935666,0,-.6139746835,.6981725247,.3682257648,0,-.7465905486,-.5752009504,.3342849376,0,.5730065677,.810555537,-.1210916791,0,-.9225877367,-.3475211012,-.167514036,0,-.7105816789,-.4719692027,-.5218416899,0,-.08564609717,.3583001386,.929669703,0,-.8279697606,-.2043157126,.5222271202,0,.427944023,.278165994,.8599346446,0,.5399079671,-.7857120652,-.3019204161,0,.5678404253,-.5495413974,-.6128307303,0,-.9896071041,.1365639107,-.04503418428,0,-.6154342638,-.6440875597,.4543037336,0,.1074204368,-.7946340692,.5975094525,0,-.3595449969,-.8885529948,.28495784,0,-.2180405296,.1529888965,.9638738118,0,-.7277432317,-.6164050508,-.3007234646,0,.7249729114,-.00669719484,.6887448187,0,-.5553659455,-.5336586252,.6377908264,0,.5137558015,.7976208196,-.3160000073,0,-.3794024848,.9245608561,-.03522751494,0,.8229248658,.2745365933,-.4974176556,0,-.5404114394,.6091141441,.5804613989,0,.8036581901,-.2703029469,.5301601931,0,.6044318879,.6832968393,.4095943388,0,.06389988817,.9658208605,-.2512108074,0,.1087113286,.7402471173,-.6634877936,0,-.713427712,-.6926784018,.1059128479,0,.6458897819,-.5724548511,-.5050958653,0,-.6553931414,.7381471625,.159995615,0,.3910961323,.9188871375,-.05186755998,0,-.4879022471,-.5904376907,.6429111375,0,.6014790094,.7707441366,-.2101820095,0,-.5677173047,.7511360995,.3368851762,0,.7858573506,.226674665,.5753666838,0,-.4520345543,-.604222686,-.6561857263,0,.002272116345,.4132844051,-.9105991643,0,-.5815751419,-.5162925989,.6286591339,0,-.03703704785,.8273785755,.5604221175,0,-.5119692504,.7953543429,-.3244980058,0,-.2682417366,-.9572290247,-.1084387619,0,-.2322482736,-.9679131102,-.09594243324,0,.3554328906,-.8881505545,.2913006227,0,.7346520519,-.4371373164,.5188422971,0,.9985120116,.04659011161,-.02833944577,0,-.3727687496,-.9082481361,.1900757285,0,.91737377,-.3483642108,.1925298489,0,.2714911074,.4147529736,-.8684886582,0,.5131763485,-.7116334161,.4798207128,0,-.8737353606,.18886992,-.4482350644,0,.8460043821,-.3725217914,.3814499973,0,.8978727456,-.1780209141,-.4026575304,0,.2178065647,-.9698322841,-.1094789531,0,-.1518031304,-.7788918132,-.6085091231,0,-.2600384876,-.4755398075,-.8403819825,0,.572313509,-.7474340931,-.3373418503,0,-.7174141009,.1699017182,-.6756111411,0,-.684180784,.02145707593,-.7289967412,0,-.2007447902,.06555605789,-.9774476623,0,-.1148803697,-.8044887315,.5827524187,0,-.7870349638,.03447489231,.6159443543,0,-.2015596421,.6859872284,.6991389226,0,-.08581082512,-.10920836,-.9903080513,0,.5532693395,.7325250401,-.396610771,0,-.1842489331,-.9777375055,-.1004076743,0,.0775473789,-.9111505856,.4047110257,0,.1399838409,.7601631212,-.6344734459,0,.4484419361,-.845289248,.2904925424,0];_PrimeX=501125321;_PrimeY=1136930381;_PrimeZ=1720413743;static _Lerp(e,t,i){return e+i*(t-e)}static _InterpHermite(e){return e*e*(3-2*e)}static _InterpQuintic(e){return e*e*e*(e*(6*e-15)+10)}static _CubicLerp(e,t,i,r,a){r=r-i-(e-t);return a*a*a*r+a*a*(e-t-r)+a*(i-e)+t}static _PingPong(e){return(e-=Math.trunc(.5*e*2))<1?e:2-e}_CalculateFractalBounding(){var t=Math.abs(this._Gain);let i=t,r=1;for(let e=1;e<this._Octaves;e++)r+=i,i*=t;this._FractalBounding=1/r}_HashR2(e,t,i){return 668265261*Math.trunc(e^t^i)>>>0}_HashR3(e,t,i,r){return 668265261*Math.trunc(e^t^i^r)>>>0}_ValCoordR2(e,t,i){e=this._HashR2(e,t,i);return 1/2147483648*((e*=e)^e<<19)}_ValCoordR3(e,t,i,r){e=this._HashR3(e,t,i,r);return 1/2147483648*((e*=e)^e<<19)}_GradCoordR2(e,t,i,r,a){e=this._HashR2(e,t,i);return r*this._Gradients2D[e=(e^e>>15)&254]+a*this._Gradients2D[1|e]}_GradCoordR3(e,t,i,r,a,s,n){e=this._HashR3(e,t,i,r);return a*this._Gradients3D[e=(e^e>>15)&252]+s*this._Gradients3D[1|e]+n*this._Gradients3D[2|e]}_GenNoiseSingleR2(e,t,i){switch(this._NoiseType){case L.NoiseType.OpenSimplex2:return this._SingleOpenSimplex2R2(e,t,i);case L.NoiseType.OpenSimplex2S:return this._SingleOpenSimplex2SR2(e,t,i);case L.NoiseType.Cellular:return this._SingleCellularR2(e,t,i);case L.NoiseType.Perlin:return this._SinglePerlinR2(e,t,i);case L.NoiseType.ValueCubic:return this._SingleValueCubicR2(e,t,i);case L.NoiseType.Value:return this._SingleValueR2(e,t,i);default:return 0}}_GenNoiseSingleR3(e,t,i,r){switch(this._NoiseType){case L.NoiseType.OpenSimplex2:return this._SingleOpenSimplex2R3(e,t,i,r);case L.NoiseType.OpenSimplex2S:return this._SingleOpenSimplex2SR3(e,t,i,r);case L.NoiseType.Cellular:return this._SingleCellularR3(e,t,i,r);case L.NoiseType.Perlin:return this._SinglePerlinR3(e,t,i,r);case L.NoiseType.ValueCubic:return this._SingleValueCubicR3(e,t,i,r);case L.NoiseType.Value:return this._SingleValueR3(e,t,i,r);default:return 0}}_UpdateTransformType3D(){switch(this._RotationType3D){case L.RotationType3D.ImproveXYPlanes:this._TransformType3D=L.TransformType3D.ImproveXYPlanes;break;case L.RotationType3D.ImproveXZPlanes:this._TransformType3D=L.TransformType3D.ImproveXZPlanes;break;default:switch(this._NoiseType){case L.NoiseType.OpenSimplex2:case L.NoiseType.OpenSimplex2S:this._TransformType3D=L.TransformType3D.DefaultOpenSimplex2;break;default:this._TransformType3D=L.TransformType3D.None}}}_UpdateWarpTransformType3D(){switch(this._RotationType3D){case L.RotationType3D.ImproveXYPlanes:this._WarpTransformType3D=L.TransformType3D.ImproveXYPlanes;break;case L.RotationType3D.ImproveXZPlanes:this._WarpTransformType3D=L.TransformType3D.ImproveXZPlanes;break;default:switch(this._DomainWarpType){case L.DomainWarpType.OpenSimplex2:case L.DomainWarpType.OpenSimplex2Reduced:this._WarpTransformType3D=L.TransformType3D.DefaultOpenSimplex2;break;default:this._WarpTransformType3D=L.TransformType3D.None}}}_GenFractalFBmR2(t,i){let r=this._Seed,a=0,s=this._FractalBounding;for(let e=0;e<this._Octaves;e++){var n=this._GenNoiseSingleR2(r++,t,i);a+=n*s,s*=L._Lerp(1,.5*Math.min(n+1,2),this._WeightedStrength),t*=this._Lacunarity,i*=this._Lacunarity,s*=this._Gain}return a}_GenFractalFBmR3(t,i,r){let a=this._Seed,s=0,n=this._FractalBounding;for(let e=0;e<this._Octaves;e++){var h=this._GenNoiseSingleR3(a++,t,i,r);s+=h*n,n*=L._Lerp(1,.5*(h+1),this._WeightedStrength),t*=this._Lacunarity,i*=this._Lacunarity,r*=this._Lacunarity,n*=this._Gain}return s}_GenFractalRidgedR2(t,i){let r=this._Seed,a=0,s=this._FractalBounding;for(let e=0;e<this._Octaves;e++){var n=Math.abs(this._GenNoiseSingleR2(r++,t,i));a+=(-2*n+1)*s,s*=L._Lerp(1,1-n,this._WeightedStrength),t*=this._Lacunarity,i*=this._Lacunarity,s*=this._Gain}return a}_GenFractalRidgedR3(t,i,r){let a=this._Seed,s=0,n=this._FractalBounding;for(let e=0;e<this._Octaves;e++){var h=Math.abs(this._GenNoiseSingleR3(a++,t,i,r));s+=(-2*h+1)*n,n*=L._Lerp(1,1-h,this._WeightedStrength),t*=this._Lacunarity,i*=this._Lacunarity,r*=this._Lacunarity,n*=this._Gain}return s}_GenFractalPingPongR2(t,i){let r=this._Seed,a=0,s=this._FractalBounding;for(let e=0;e<this._Octaves;e++){var n=L._PingPong((this._GenNoiseSingleR2(r++,t,i)+1)*this._PingPongStrength);a+=2*(n-.5)*s,s*=L._Lerp(1,n,this._WeightedStrength),t*=this._Lacunarity,i*=this._Lacunarity,s*=this._Gain}return a}_GenFractalPingPongR3(t,i,r){let a=this._Seed,s=0,n=this._FractalBounding;for(let e=0;e<this._Octaves;e++){var h=L._PingPong((this._GenNoiseSingleR3(a++,t,i,r)+1)*this._PingPongStrength);s+=2*(h-.5)*n,n*=L._Lerp(1,h,this._WeightedStrength),t*=this._Lacunarity,i*=this._Lacunarity,r*=this._Lacunarity,n*=this._Gain}return s}_SingleOpenSimplex2R2(e,t,i){var r=.21132486540518713,a=Math.floor(t),s=Math.floor(i),t=t-a,i=i-s,n=(t+i)*r,t=t-n,i=i-n;a*=this._PrimeX,s*=this._PrimeY;let h,l,o;var _,c=.5-t*t-i*i,n=(h=c<=0?0:c*c*(c*c)*this._GradCoordR2(e,a,s,t,i),3.1547005383792506*n+(c-.6666666666666666));return o=n<=0?0:n*n*(n*n)*this._GradCoordR2(e,a+this._PrimeX,s+this._PrimeY,2*r-1+t,2*r-1+i),l=t<i?(_=.5-(c=t+r)*c-(n=r-1+i)*n)<=0?0:_*_*(_*_)*this._GradCoordR2(e,a,s+this._PrimeY,c,n):(n=.5-(_=r-1+t)*_-(c=i+r)*c)<=0?0:n*n*(n*n)*this._GradCoordR2(e,a+this._PrimeX,s,_,c),99.83685446303647*(h+l+o)}_SingleOpenSimplex2R3(t,e,i,r){let a=Math.round(e),s=Math.round(i),n=Math.round(r),h=e-a,l=i-s,o=r-n,_=Math.trunc(-1-l|1),c=Math.trunc(-1-h|1),p=Math.trunc(-1-o|1),d=c*-h,u=_*-l,m=p*-o,R=(a*=this._PrimeX,s*=this._PrimeY,n*=this._PrimeZ,0),D=.6-h*h-(l*l+o*o);for(let e=0;;e++){var y,C;if(0<D&&(R+=D*D*(D*D)*this._GradCoordR3(t,a,s,n,h,l,o)),d>=u&&d>=m?1<(y=D+d+d)&&(--y,R+=y*y*(y*y)*this._GradCoordR3(t,a-c*this._PrimeX,s,n,h+c,l,o)):u>d&&u>=m?1<(y=D+u+u)&&(--y,R+=y*y*(y*y)*this._GradCoordR3(t,a,s-_*this._PrimeY,n,h,l+_,o)):1<(C=D+m+m)&&(--C,R+=C*C*(C*C)*this._GradCoordR3(t,a,s,n-p*this._PrimeZ,h,l,o+p)),1===e)break;d=.5-d,u=.5-u,m=.5-m,h=c*d,l=_*u,o=p*m,D+=.75-d-(u+m),a+=c>>1&this._PrimeX,s+=_>>1&this._PrimeY,n+=p>>1&this._PrimeZ,c=-c,_=-_,p=-p,t=~t}return 32.69428253173828*R}_SingleOpenSimplex2SR2(e,t,i){var r=.21132486540518713,a=Math.floor(t),s=Math.floor(i),t=t-a,i=i-s,n=(a*=this._PrimeX,s*=this._PrimeY,a+this._PrimeX),h=s+this._PrimeY,l=(t+i)*r,o=t-l,_=i-l,c=2/3-o*o-_*_;let p=c*c*(c*c)*this._GradCoordR2(e,a,s,o,_);var c=3.1547005383792506*l+(c-.6666666666666666),c=(p+=c*c*(c*c)*this._GradCoordR2(e,n,h,o-(1-2*r),_-(1-2*r)),t-i);return r<l?(1<t+c?0<(l=2/3-(n=3*r-2+o)*n-(h=3*r-1+_)*h)&&(p+=l*l*(l*l)*this._GradCoordR2(e,a+(this._PrimeX<<1),s+this._PrimeY,n,h)):0<(h=2/3-(l=o+r)*l-(n=r-1+_)*n)&&(p+=h*h*(h*h)*this._GradCoordR2(e,a,s+this._PrimeY,l,n)),1<i-c?0<(n=2/3-(h=3*r-1+o)*h-(l=3*r-2+_)*l)&&(p+=n*n*(n*n)*this._GradCoordR2(e,a+this._PrimeX,s+(this._PrimeY<<1),h,l)):0<(l=2/3-(n=r-1+o)*n-(h=_+r)*h)&&(p+=l*l*(l*l)*this._GradCoordR2(e,a+this._PrimeX,s,n,h))):(t+c<0?0<(h=2/3-(l=1-r+o)*l-(n=_-r)*n)&&(p+=h*h*(h*h)*this._GradCoordR2(e,a-this._PrimeX,s,l,n)):0<(l=2/3-(t=r-1+o)*t-(h=_+r)*h)&&(p+=l*l*(l*l)*this._GradCoordR2(e,a+this._PrimeX,s,t,h)),i<c?0<(t=2/3-(n=o-r)*n-(l=_-(r-1))*l)&&(p+=t*t*(t*t)*this._GradCoordR2(e,a,s-this._PrimeY,n,l)):0<(c=2/3-(h=o+r)*h-(i=r-1+_)*i)&&(p+=c*c*(c*c)*this._GradCoordR2(e,a,s+this._PrimeY,h,i))),18.24196194486065*p}_SingleOpenSimplex2SR3(e,t,i,r){var a=Math.floor(t),s=Math.floor(i),n=Math.floor(r),t=t-a,i=i-s,r=r-n,h=(a*=this._PrimeX,s*=this._PrimeY,n*=this._PrimeZ,e+1293373),l=Math.trunc(-.5-t),o=Math.trunc(-.5-i),_=Math.trunc(-.5-r),c=t+l,p=i+o,d=r+_,u=.75-c*c-p*p-d*d;let m=u*u*(u*u)*this._GradCoordR3(e,a+(l&this._PrimeX),s+(o&this._PrimeY),n+(_&this._PrimeZ),c,p,d);var t=t-.5,i=i-.5,r=r-.5,R=.75-t*t-i*i-r*r,D=(m+=R*R*(R*R)*this._GradCoordR3(h,a+this._PrimeX,s+this._PrimeY,n+this._PrimeZ,t,i,r),((1|l)<<1)*t),y=((1|o)<<1)*i,C=((1|_)<<1)*r,P=(-2-(l<<2))*t-1,f=(-2-(o<<2))*i-1,T=(-2-(_<<2))*r-1;let V=!1;var g=D+u;0<g?m+=g*g*(g*g)*this._GradCoordR3(e,a+(~l&this._PrimeX),s+(o&this._PrimeY),n+(_&this._PrimeZ),c-(1|l),p,d):(0<(g=y+C+u)&&(m+=g*g*(g*g)*this._GradCoordR3(e,a+(l&this._PrimeX),s+(~o&this._PrimeY),n+(~_&this._PrimeZ),c,p-(1|o),d-(1|_))),0<(g=P+R)&&(m+=g*g*(g*g)*this._GradCoordR3(h,a+(l&2*this._PrimeX),s+this._PrimeY,n+this._PrimeZ,(1|l)+t,i,r),V=!0));let S=!1;var g=y+u;0<g?m+=g*g*(g*g)*this._GradCoordR3(e,a+(l&this._PrimeX),s+(~o&this._PrimeY),n+(_&this._PrimeZ),c,p-(1|o),d):(0<(g=D+C+u)&&(m+=g*g*(g*g)*this._GradCoordR3(e,a+(~l&this._PrimeX),s+(o&this._PrimeY),n+(~_&this._PrimeZ),c-(1|l),p,d-(1|_))),0<(g=f+R)&&(m+=g*g*(g*g)*this._GradCoordR3(h,a+this._PrimeX,s+(o&this._PrimeY<<1),n+this._PrimeZ,t,(1|o)+i,r),S=!0));let v=!1;g=C+u;return 0<g?m+=g*g*(g*g)*this._GradCoordR3(e,a+(l&this._PrimeX),s+(o&this._PrimeY),n+(~_&this._PrimeZ),c,p,d-(1|_)):(0<(C=D+y+u)&&(m+=C*C*(C*C)*this._GradCoordR3(e,a+(~l&this._PrimeX),s+(~o&this._PrimeY),n+(_&this._PrimeZ),c-(1|l),p-(1|o),d)),0<(g=T+R)&&(m+=g*g*(g*g)*this._GradCoordR3(h,a+this._PrimeX,s+this._PrimeY,n+(_&this._PrimeZ<<1),t,i,(1|_)+r),v=!0)),V||0<(D=f+T+R)&&(m+=D*D*(D*D)*this._GradCoordR3(h,a+this._PrimeX,s+(o&this._PrimeY<<1),n+(_&this._PrimeZ<<1),t,(1|o)+i,(1|_)+r)),S||0<(y=P+T+R)&&(m+=y*y*(y*y)*this._GradCoordR3(h,a+(l&2*this._PrimeX),s+this._PrimeY,n+(_&this._PrimeZ<<1),(1|l)+t,i,(1|_)+r)),v||0<(u=P+f+R)&&(m+=u*u*(u*u)*this._GradCoordR3(h,a+(l&this._PrimeX<<1),s+(o&this._PrimeY<<1),n+this._PrimeZ,(1|l)+t,(1|o)+i,r)),9.046026385208288*m}_SingleCellularR2(r,a,s){var e=Math.round(a),n=Math.round(s);let h=Number.MAX_VALUE,l=Number.MAX_VALUE,o=0;var _=.43701595*this._CellularJitterModifier;let c=(e-1)*this._PrimeX;var p=(n-1)*this._PrimeY;switch(this._CellularDistanceFunction){default:case L.CellularDistanceFunction.Euclidean:case L.CellularDistanceFunction.EuclideanSq:for(let i=e-1;i<=e+1;i++){let t=p;for(let e=n-1;e<=n+1;e++){var d=this._HashR2(r,c,t),u=510&d,m=i-a+this._RandVecs2D[u]*_,u=e-s+this._RandVecs2D[1|u]*_,m=m*m+u*u;l=Math.max(Math.min(l,m),h),m<h&&(h=m,o=d),t+=this._PrimeY}c+=this._PrimeX}break;case L.CellularDistanceFunction.Manhattan:for(let i=e-1;i<=e+1;i++){let t=p;for(let e=n-1;e<=n+1;e++){var R=this._HashR2(r,c,t),D=510&R,y=i-a+this._RandVecs2D[D]*_,D=e-s+this._RandVecs2D[1|D]*_,y=Math.abs(y)+Math.abs(D);l=Math.max(Math.min(l,y),h),y<h&&(h=y,o=R),t+=this._PrimeY}c+=this._PrimeX}break;case L.CellularDistanceFunction.Hybrid:for(let i=e-1;i<=e+1;i++){let t=p;for(let e=n-1;e<=n+1;e++){var C=this._HashR2(r,c,t),P=510&C,f=i-a+this._RandVecs2D[P]*_,P=e-s+this._RandVecs2D[1|P]*_,f=Math.abs(f)+Math.abs(P)+(f*f+P*P);l=Math.max(Math.min(l,f),h),f<h&&(h=f,o=C),t+=this._PrimeY}c+=this._PrimeX}}switch(this._CellularDistanceFunction===L.CellularDistanceFunction.Euclidean&&this._CellularReturnType!==L.CellularReturnType.CellValue&&(h=Math.sqrt(h),this._CellularReturnType!==L.CellularReturnType.CellValue)&&(l=Math.sqrt(l)),this._CellularReturnType){case L.CellularReturnType.CellValue:return o*(1/2147483648);case L.CellularReturnType.Distance:return h-1;case L.CellularReturnType.Distance2:return l-1;case L.CellularReturnType.Distance2Add:return.5*(l+h)-1;case L.CellularReturnType.Distance2Sub:return l-h-1;case L.CellularReturnType.Distance2Mul:return l*h*.5-1;case L.CellularReturnType.Distance2Div:return h/l-1;default:return 0}}_SingleCellularR3(s,n,h,l){var e=Math.round(n),t=Math.round(h),o=Math.round(l);let _=Number.MAX_VALUE,c=Number.MAX_VALUE,p=0;var d=.39614353*this._CellularJitterModifier;let u=(e-1)*this._PrimeX;var i=(t-1)*this._PrimeY,m=(o-1)*this._PrimeZ;switch(this._CellularDistanceFunction){case L.CellularDistanceFunction.Euclidean:case L.CellularDistanceFunction.EuclideanSq:for(let a=e-1;a<=e+1;a++){let r=i;for(let i=t-1;i<=t+1;i++){let t=m;for(let e=o-1;e<=o+1;e++){var R=this._HashR3(s,u,r,t),D=1020&R,y=a-n+this._RandVecs3D[D]*d,C=i-h+this._RandVecs3D[1|D]*d,D=e-l+this._RandVecs3D[2|D]*d,y=y*y+C*C+D*D;c=Math.max(Math.min(c,y),_),y<_&&(_=y,p=R),t+=this._PrimeZ}r+=this._PrimeY}u+=this._PrimeX}break;case L.CellularDistanceFunction.Manhattan:for(let a=e-1;a<=e+1;a++){let r=i;for(let i=t-1;i<=t+1;i++){let t=m;for(let e=o-1;e<=o+1;e++){var P=this._HashR3(s,u,r,t),f=1020&P,T=a-n+this._RandVecs3D[f]*d,V=i-h+this._RandVecs3D[1|f]*d,f=e-l+this._RandVecs3D[2|f]*d,T=Math.abs(T)+Math.abs(V)+Math.abs(f);c=Math.max(Math.min(c,T),_),T<_&&(_=T,p=P),t+=this._PrimeZ}r+=this._PrimeY}u+=this._PrimeX}break;case L.CellularDistanceFunction.Hybrid:for(let a=e-1;a<=e+1;a++){let r=i;for(let i=t-1;i<=t+1;i++){let t=m;for(let e=o-1;e<=o+1;e++){var g=this._HashR3(s,u,r,t),S=1020&g,v=a-n+this._RandVecs3D[S]*d,b=i-h+this._RandVecs3D[1|S]*d,S=e-l+this._RandVecs3D[2|S]*d,v=Math.abs(v)+Math.abs(b)+Math.abs(S)+(v*v+b*b+S*S);c=Math.max(Math.min(c,v),_),v<_&&(_=v,p=g),t+=this._PrimeZ}r+=this._PrimeY}u+=this._PrimeX}}switch(this._CellularDistanceFunction===L.CellularDistanceFunction.Euclidean&&this._CellularReturnType!==L.CellularReturnType.CellValue&&(_=Math.sqrt(_),this._CellularReturnType!==L.CellularReturnType.CellValue)&&(c=Math.sqrt(c)),this._CellularReturnType){case L.CellularReturnType.CellValue:return p*(1/2147483648);case L.CellularReturnType.Distance:return _-1;case L.CellularReturnType.Distance2:return c-1;case L.CellularReturnType.Distance2Add:return.5*(c+_)-1;case L.CellularReturnType.Distance2Sub:return c-_-1;case L.CellularReturnType.Distance2Mul:return c*_*.5-1;case L.CellularReturnType.Distance2Div:return _/c-1;default:return 0}}_SinglePerlinR2(e,t,i){var r=Math.floor(t),a=Math.floor(i),t=t-r,i=i-a,s=t-1,n=i-1,h=L._InterpQuintic(t),l=L._InterpQuintic(i),o=(r*=this._PrimeX,a*=this._PrimeY,r+this._PrimeX),_=a+this._PrimeY,a=L._Lerp(this._GradCoordR2(e,r,a,t,i),this._GradCoordR2(e,o,a,s,i),h),i=L._Lerp(this._GradCoordR2(e,r,_,t,n),this._GradCoordR2(e,o,_,s,n),h);return 1.4247691104677813*L._Lerp(a,i,l)}_SinglePerlinR3(e,t,i,r){var a=Math.floor(t),s=Math.floor(i),n=Math.floor(r),t=t-a,i=i-s,r=r-n,h=t-1,l=i-1,o=r-1,_=L._InterpQuintic(t),c=L._InterpQuintic(i),p=L._InterpQuintic(r),d=(a*=this._PrimeX,s*=this._PrimeY,n*=this._PrimeZ,a+this._PrimeX),u=s+this._PrimeY,m=n+this._PrimeZ,R=L._Lerp(this._GradCoordR3(e,a,s,n,t,i,r),this._GradCoordR3(e,d,s,n,h,i,r),_),n=L._Lerp(this._GradCoordR3(e,a,u,n,t,l,r),this._GradCoordR3(e,d,u,n,h,l,r),_),r=L._Lerp(this._GradCoordR3(e,a,s,m,t,i,o),this._GradCoordR3(e,d,s,m,h,i,o),_),s=L._Lerp(this._GradCoordR3(e,a,u,m,t,l,o),this._GradCoordR3(e,d,u,m,h,l,o),_),i=L._Lerp(R,n,c),a=L._Lerp(r,s,c);return.9649214148521423*L._Lerp(i,a,p)}_SingleValueCubicR2(e,t,i){var r=Math.floor(t),a=Math.floor(i),t=t-r,i=i-a,s=(r*=this._PrimeX,a*=this._PrimeY,r-this._PrimeX),n=a-this._PrimeY,h=r+this._PrimeX,l=a+this._PrimeY,o=r+(this._PrimeX<<1),_=a+(this._PrimeY<<1);return L._CubicLerp(L._CubicLerp(this._ValCoordR2(e,s,n),this._ValCoordR2(e,r,n),this._ValCoordR2(e,h,n),this._ValCoordR2(e,o,n),t),L._CubicLerp(this._ValCoordR2(e,s,a),this._ValCoordR2(e,r,a),this._ValCoordR2(e,h,a),this._ValCoordR2(e,o,a),t),L._CubicLerp(this._ValCoordR2(e,s,l),this._ValCoordR2(e,r,l),this._ValCoordR2(e,h,l),this._ValCoordR2(e,o,l),t),L._CubicLerp(this._ValCoordR2(e,s,_),this._ValCoordR2(e,r,_),this._ValCoordR2(e,h,_),this._ValCoordR2(e,o,_),t),i)*(1/2.25)}_SingleValueCubicR3(e,t,i,r){var a=Math.floor(t),s=Math.floor(i),n=Math.floor(r),t=t-a,i=i-s,r=r-n,h=(a*=this._PrimeX,s*=this._PrimeY,n*=this._PrimeZ,a-this._PrimeX),l=s-this._PrimeY,o=n-this._PrimeZ,_=a+this._PrimeX,c=s+this._PrimeY,p=n+this._PrimeZ,d=a+(this._PrimeX<<1),u=s+(this._PrimeY<<1),m=n+(this._PrimeZ<<1);return L._CubicLerp(L._CubicLerp(L._CubicLerp(this._ValCoordR3(e,h,l,o),this._ValCoordR3(e,a,l,o),this._ValCoordR3(e,_,l,o),this._ValCoordR3(e,d,l,o),t),L._CubicLerp(this._ValCoordR3(e,h,s,o),this._ValCoordR3(e,a,s,o),this._ValCoordR3(e,_,s,o),this._ValCoordR3(e,d,s,o),t),L._CubicLerp(this._ValCoordR3(e,h,c,o),this._ValCoordR3(e,a,c,o),this._ValCoordR3(e,_,c,o),this._ValCoordR3(e,d,c,o),t),L._CubicLerp(this._ValCoordR3(e,h,u,o),this._ValCoordR3(e,a,u,o),this._ValCoordR3(e,_,u,o),this._ValCoordR3(e,d,u,o),t),i),L._CubicLerp(L._CubicLerp(this._ValCoordR3(e,h,l,n),this._ValCoordR3(e,a,l,n),this._ValCoordR3(e,_,l,n),this._ValCoordR3(e,d,l,n),t),L._CubicLerp(this._ValCoordR3(e,h,s,n),this._ValCoordR3(e,a,s,n),this._ValCoordR3(e,_,s,n),this._ValCoordR3(e,d,s,n),t),L._CubicLerp(this._ValCoordR3(e,h,c,n),this._ValCoordR3(e,a,c,n),this._ValCoordR3(e,_,c,n),this._ValCoordR3(e,d,c,n),t),L._CubicLerp(this._ValCoordR3(e,h,u,n),this._ValCoordR3(e,a,u,n),this._ValCoordR3(e,_,u,n),this._ValCoordR3(e,d,u,n),t),i),L._CubicLerp(L._CubicLerp(this._ValCoordR3(e,h,l,p),this._ValCoordR3(e,a,l,p),this._ValCoordR3(e,_,l,p),this._ValCoordR3(e,d,l,p),t),L._CubicLerp(this._ValCoordR3(e,h,s,p),this._ValCoordR3(e,a,s,p),this._ValCoordR3(e,_,s,p),this._ValCoordR3(e,d,s,p),t),L._CubicLerp(this._ValCoordR3(e,h,c,p),this._ValCoordR3(e,a,c,p),this._ValCoordR3(e,_,c,p),this._ValCoordR3(e,d,c,p),t),L._CubicLerp(this._ValCoordR3(e,h,u,p),this._ValCoordR3(e,a,u,p),this._ValCoordR3(e,_,u,p),this._ValCoordR3(e,d,u,p),t),i),L._CubicLerp(L._CubicLerp(this._ValCoordR3(e,h,l,m),this._ValCoordR3(e,a,l,m),this._ValCoordR3(e,_,l,m),this._ValCoordR3(e,d,l,m),t),L._CubicLerp(this._ValCoordR3(e,h,s,m),this._ValCoordR3(e,a,s,m),this._ValCoordR3(e,_,s,m),this._ValCoordR3(e,d,s,m),t),L._CubicLerp(this._ValCoordR3(e,h,c,m),this._ValCoordR3(e,a,c,m),this._ValCoordR3(e,_,c,m),this._ValCoordR3(e,d,c,m),t),L._CubicLerp(this._ValCoordR3(e,h,u,m),this._ValCoordR3(e,a,u,m),this._ValCoordR3(e,_,u,m),this._ValCoordR3(e,d,u,m),t),i),r)*(1/3.375)}_SingleValueR2(e,t,i){var r=Math.floor(t),a=Math.floor(i),t=L._InterpHermite(t-r),i=L._InterpHermite(i-a),s=(r*=this._PrimeX,a*=this._PrimeY,r+this._PrimeX),n=a+this._PrimeY,a=L._Lerp(this._ValCoordR2(e,r,a),this._ValCoordR2(e,s,a),t),r=L._Lerp(this._ValCoordR2(e,r,n),this._ValCoordR2(e,s,n),t);return L._Lerp(a,r,i)}_SingleValueR3(e,t,i,r){var a=Math.floor(t),s=Math.floor(i),n=Math.floor(r),t=L._InterpHermite(t-a),i=L._InterpHermite(i-s),r=L._InterpHermite(r-n),h=(a*=this._PrimeX,s*=this._PrimeY,n*=this._PrimeZ,a+this._PrimeX),l=s+this._PrimeY,o=n+this._PrimeZ,_=L._Lerp(this._ValCoordR3(e,a,s,n),this._ValCoordR3(e,h,s,n),t),n=L._Lerp(this._ValCoordR3(e,a,l,n),this._ValCoordR3(e,h,l,n),t),s=L._Lerp(this._ValCoordR3(e,a,s,o),this._ValCoordR3(e,h,s,o),t),a=L._Lerp(this._ValCoordR3(e,a,l,o),this._ValCoordR3(e,h,l,o),t),e=L._Lerp(_,n,i),h=L._Lerp(s,a,i);return L._Lerp(e,h,r)}_DoSingleDomainWarp(){var e=(e,t,i,r,a,s)=>{switch(this._DomainWarpType){case L.DomainWarpType.OpenSimplex2:this._SingleDomainWarpOpenSimplex2Gradient(e,38.283687591552734*t,i,r,!1,a,s);break;case L.DomainWarpType.OpenSimplex2Reduced:this._SingleDomainWarpOpenSimplex2Gradient(e,16*t,i,r,!0,a,s);break;case L.DomainWarpType.BasicGrid:this._SingleDomainWarpBasicGrid(e,t,i,r,a,s)}},t=(e,t,i,r,a,s,n)=>{switch(this._DomainWarpType){case L.DomainWarpType.OpenSimplex2:this._SingleDomainWarpOpenSimplex2Gradient(e,32.69428253173828*t,i,r,!1,a,s,n);break;case L.DomainWarpType.OpenSimplex2Reduced:this._SingleDomainWarpOpenSimplex2Gradient(e,7.71604938271605*t,i,r,!0,a,s,n);break;case L.DomainWarpType.BasicGrid:this._SingleDomainWarpBasicGrid(e,t,i,r,a,s,n)}};return 6===arguments.length&&arguments[3]instanceof X?e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):7===arguments.length&&arguments[3]instanceof O?t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]):void 0}_DomainWarpSingle(){var e=e=>{var t=this._Seed,i=this._DomainWarpAmp*this._FractalBounding,r=this._Frequency;let a=e.x,s=e.y;switch(this._DomainWarpType){case L.DomainWarpType.OpenSimplex2:case L.DomainWarpType.OpenSimplex2Reduced:var n=.3660254037844386*(a+s);a+=n,s+=n}this._DoSingleDomainWarp(t,i,r,e,a,s)},t=e=>{var t=this._Seed,i=this._DomainWarpAmp*this._FractalBounding,r=this._Frequency;let a=e.x,s=e.y,n=e.z;switch(this._WarpTransformType3D){case L.TransformType3D.ImproveXYPlanes:var h=a+s,l=-.211324865405187*h;n*=.577350269189626,a+=l-n,s=s+l-n,n+=.577350269189626*h;break;case L.TransformType3D.ImproveXZPlanes:l=a+n,h=-.211324865405187*l;s*=.577350269189626,a+=h-s,n+=h-s,s+=.577350269189626*l;break;case L.TransformType3D.DefaultOpenSimplex2:h=(a+s+n)*(2/3);a=h-a,s=h-s,n=h-n}this._DoSingleDomainWarp(t,i,r,e,a,s,n)};return 1===arguments.length&&arguments[0]instanceof X?e(arguments[0]):1===arguments.length&&arguments[0]instanceof O?t(arguments[0]):void 0}_DomainWarpFractalProgressive(){var e=i=>{let r=this._Seed,a=this._DomainWarpAmp*this._FractalBounding,s=this._Frequency;for(let e=0;e<this._Octaves;e++){let e=i.x,t=i.y;switch(this._DomainWarpType){case L.DomainWarpType.OpenSimplex2:case L.DomainWarpType.OpenSimplex2Reduced:var n=.3660254037844386*(e+t);e+=n,t+=n}this._DoSingleDomainWarp(r,a,s,i,e,t),r++,a*=this._Gain,s*=this._Lacunarity}},t=r=>{let a=this._Seed,s=this._DomainWarpAmp*this._FractalBounding,n=this._Frequency;for(let e=0;e<this._Octaves;e++){let e=r.x,t=r.y,i=r.z;switch(this._WarpTransformType3D){case L.TransformType3D.ImproveXYPlanes:var h=e+t,l=-.211324865405187*h;i*=.577350269189626,e+=l-i,t=t+l-i,i+=.577350269189626*h;break;case L.TransformType3D.ImproveXZPlanes:l=e+i,h=-.211324865405187*l;t*=.577350269189626,e+=h-t,i+=h-t,t+=.577350269189626*l;break;case L.TransformType3D.DefaultOpenSimplex2:var o=(e+t+i)*(2/3);e=o-e,t=o-t,i=o-i}this._DoSingleDomainWarp(a,s,n,r,e,t,i),a++,s*=this._Gain,n*=this._Lacunarity}};return 1===arguments.length&&arguments[0]instanceof X?e(arguments[0]):1===arguments.length&&arguments[0]instanceof O?t(arguments[0]):void 0}_DomainWarpFractalIndependent(){var e=t=>{let i=t.x,r=t.y;switch(this._DomainWarpType){case L.DomainWarpType.OpenSimplex2:case L.DomainWarpType.OpenSimplex2Reduced:var e=.3660254037844386*(i+r);i+=e,r+=e}let a=this._Seed,s=this._DomainWarpAmp*this._FractalBounding,n=this._Frequency;for(let e=0;e<this._Octaves;e++)this._DoSingleDomainWarp(a,s,n,t,i,r),a++,s*=this._Gain,n*=this._Lacunarity},t=t=>{let i=t.x,r=t.y,a=t.z;switch(this._WarpTransformType3D){case L.TransformType3D.ImproveXYPlanes:var e=i+r,s=-.211324865405187*e;a*=.577350269189626,i+=s-a,r=r+s-a,a+=.577350269189626*e;break;case L.TransformType3D.ImproveXZPlanes:s=i+a,e=-.211324865405187*s;r*=.577350269189626,i+=e-r,a+=e-r,r+=.577350269189626*s;break;case L.TransformType3D.DefaultOpenSimplex2:e=(i+r+a)*(2/3);i=e-i,r=e-r,a=e-a}let n=this._Seed,h=this._DomainWarpAmp*this._FractalBounding,l=this._Frequency;for(let e=0;e<this._Octaves;e++)this._DoSingleDomainWarp(n,h,l,t,i,r,a),n++,h*=this._Gain,l*=this._Lacunarity};return 1===arguments.length&&arguments[0]instanceof X?e(arguments[0]):1===arguments.length&&arguments[0]instanceof O?t(arguments[0]):void 0}_SingleDomainWarpBasicGrid(){var e=(e,t,i,r,a,s)=>{var a=a*i,s=s*i,i=Math.floor(a),n=Math.floor(s),a=L._InterpHermite(a-i),s=L._InterpHermite(s-n),h=(i*=this._PrimeX,n*=this._PrimeY,i+this._PrimeX),l=n+this._PrimeY,o=510&this._HashR2(e,i,n),n=510&this._HashR2(e,h,n),_=L._Lerp(this._RandVecs2D[o],this._RandVecs2D[n],a),c=L._Lerp(this._RandVecs2D[1|o],this._RandVecs2D[1|n],a),o=510&this._HashR2(e,i,l),n=510&this._HashR2(e,h,l),i=L._Lerp(this._RandVecs2D[o],this._RandVecs2D[n],a),e=L._Lerp(this._RandVecs2D[1|o],this._RandVecs2D[1|n],a);r.x+=L._Lerp(_,i,s)*t,r.y+=L._Lerp(c,e,s)*t},t=(e,t,i,r,a,s,n)=>{var a=a*i,s=s*i,n=n*i,i=Math.floor(a),h=Math.floor(s),l=Math.floor(n),a=L._InterpHermite(a-i),s=L._InterpHermite(s-h),n=L._InterpHermite(n-l),o=(i*=this._PrimeX,h*=this._PrimeY,l*=this._PrimeZ,i+this._PrimeX),_=h+this._PrimeY,c=l+this._PrimeZ,p=1020&this._HashR3(e,i,h,l),d=1020&this._HashR3(e,o,h,l),u=L._Lerp(this._RandVecs3D[p],this._RandVecs3D[d],a),m=L._Lerp(this._RandVecs3D[1|p],this._RandVecs3D[1|d],a),R=L._Lerp(this._RandVecs3D[2|p],this._RandVecs3D[2|d],a),p=1020&this._HashR3(e,i,_,l),d=1020&this._HashR3(e,o,_,l),l=L._Lerp(this._RandVecs3D[p],this._RandVecs3D[d],a),D=L._Lerp(this._RandVecs3D[1|p],this._RandVecs3D[1|d],a),y=L._Lerp(this._RandVecs3D[2|p],this._RandVecs3D[2|d],a),C=L._Lerp(u,l,s),P=L._Lerp(m,D,s),f=L._Lerp(R,y,s);p=1020&this._HashR3(e,i,h,c),d=1020&this._HashR3(e,o,h,c),u=L._Lerp(this._RandVecs3D[p],this._RandVecs3D[d],a),m=L._Lerp(this._RandVecs3D[1|p],this._RandVecs3D[1|d],a),R=L._Lerp(this._RandVecs3D[2|p],this._RandVecs3D[2|d],a),p=1020&this._HashR3(e,i,_,c),d=1020&this._HashR3(e,o,_,c),l=L._Lerp(this._RandVecs3D[p],this._RandVecs3D[d],a),D=L._Lerp(this._RandVecs3D[1|p],this._RandVecs3D[1|d],a),y=L._Lerp(this._RandVecs3D[2|p],this._RandVecs3D[2|d],a),r.x+=L._Lerp(C,L._Lerp(u,l,s),n)*t,r.y+=L._Lerp(P,L._Lerp(m,D,s),n)*t,r.z+=L._Lerp(f,L._Lerp(R,y,s),n)*t};6===arguments.length&&arguments[3]instanceof X&&e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),7===arguments.length&&arguments[3]instanceof O&&t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])}_SingleDomainWarpOpenSimplex2Gradient(){var e=(i,e,r,t,a,s,n)=>{var h=.21132486540518713,r=(s*=r,n*=r,Math.floor(s)),l=Math.floor(n),s=s-r,n=n-l,o=(s+n)*h,s=s-o,n=n-o;r*=this._PrimeX,l*=this._PrimeY;let _,c;var p=.5-s;if((_=c=0)<p){var d=p*p*(p*p);let e,t;t=a?(R=510&this._HashR2(i,r,l),e=this._RandVecs2D[R],this._RandVecs2D[1|R]):(R=this._HashR2(i,r,l),m=s*this._Gradients2D[m=254&R]+n*this._Gradients2D[1|m],u=this._RandVecs2D[R=R>>7&510],R=this._RandVecs2D[1|R],e=m*u,m*R),_+=d*e,c+=d*t}var u=3.1547005383792506*o+(p-.6666666666666666);if(0<u){var m=2*h-1+s,R=2*h-1+n,d=u*u*(u*u);let e,t;t=a?(o=510&this._HashR2(i,r+this._PrimeX,l+this._PrimeY),e=this._RandVecs2D[o],this._RandVecs2D[1|o]):(p=this._HashR2(i,r+this._PrimeX,l+this._PrimeY),o=m*this._Gradients2D[u=254&p]+R*this._Gradients2D[1|u],R=this._RandVecs2D[m=p>>7&510],u=this._RandVecs2D[1|m],e=o*R,o*u),_+=d*e,c+=d*t}if(s<n){p=s+h,m=h-1+n,R=.5-p*p-m*m;if(0<R){o=R*R*(R*R);let e,t;t=a?(u=510&this._HashR2(i,r,l+this._PrimeY),e=this._RandVecs2D[u],this._RandVecs2D[1|u]):(d=this._HashR2(i,r,l+this._PrimeY),u=p*this._Gradients2D[R=254&d]+m*this._Gradients2D[1|R],m=this._RandVecs2D[p=d>>7&510],R=this._RandVecs2D[1|p],e=u*m,u*R),_+=o*e,c+=o*t}}else{d=h-1+s,p=n+h,m=.5-d*d-p*p;if(0<m){u=m*m*(m*m);let e,t;t=a?(R=510&this._HashR2(i,r+this._PrimeX,l),e=this._RandVecs2D[R],this._RandVecs2D[1|R]):(o=this._HashR2(i,r+this._PrimeX,l),n=d*this._Gradients2D[s=254&o]+p*this._Gradients2D[1|s],m=this._RandVecs2D[h=o>>7&510],a=this._RandVecs2D[1|h],e=n*m,n*a),_+=u*e,c+=u*t}}t.x+=_*e,t.y+=c*e},t=(_,e,t,i,c,r,a,s)=>{r*=t,a*=t,s*=t;let p=Math.round(r),d=Math.round(a),u=Math.round(s),m=r-p,R=a-d,D=s-u,y=-m-1|1,C=-R-1|1,P=-D-1|1,f=y*-m,T=C*-R,V=P*-D;p*=this._PrimeX,d*=this._PrimeY,u*=this._PrimeZ;let g,S,v,b=(g=S=v=0,.6-m*m-(R*R+D*D));for(let e=0;;e++){if(0<b){var G,M=b*b*(b*b);let e,t,i;i=c?(G=1020&this._HashR3(_,p,d,u),e=this._RandVecs3D[G],t=this._RandVecs3D[1|G],this._RandVecs3D[2|G]):(F=(G=this._HashR3(_,p,d,u))>>6&1020,L=this._Gradients3D[x=252&G],N=this._Gradients3D[1|x],x=this._Gradients3D[2|x],L=m*L+R*N+D*x,N=this._RandVecs3D[F],x=this._RandVecs3D[1|F],F=this._RandVecs3D[2|F],e=L*N,t=L*x,L*F),g+=M*e,S+=M*t,v+=M*i}let r=b,a=p,s=d,n=u,h=m,l=R,o=D;if(f>=T&&f>=V?(h+=y,r=r+f+f,a-=y*this._PrimeX):T>f&&T>=V?(l+=C,r=r+T+T,s-=C*this._PrimeY):(o+=P,r=r+V+V,n-=P*this._PrimeZ),1<r){var x,L,F,X,O,W,Y,N=--r*r*(r*r);let e,t,i;i=c?(x=1020&this._HashR3(_,a,s,n),e=this._RandVecs3D[x],t=this._RandVecs3D[1|x],this._RandVecs3D[2|x]):(F=(L=this._HashR3(_,a,s,n))>>6&1020,X=this._Gradients3D[M=252&L],O=this._Gradients3D[1|M],W=this._Gradients3D[2|M],X=h*X+l*O+o*W,O=this._RandVecs3D[F],W=this._RandVecs3D[1|F],Y=this._RandVecs3D[2|F],e=X*O,t=X*W,X*Y),g+=N*e,S+=N*t,v+=N*i}if(1===e)break;f=.5-f,T=.5-T,V=.5-V,m=y*f,R=C*T,D=P*V,b+=.75-f-(T+V),p+=y>>1&this._PrimeX,d+=C>>1&this._PrimeY,u+=P>>1&this._PrimeZ,y=-y,C=-C,P=-P,_+=1293373}i.x+=g*e,i.y+=S*e,i.z+=v*e};7===arguments.length&&e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),8===arguments.length&&t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7])}},F=L,X=(u(F,"NoiseType",Object.freeze({OpenSimplex2:"OpenSimplex2",OpenSimplex2S:"OpenSimplex2S",Cellular:"Cellular",Perlin:"Perlin",ValueCubic:"ValueCubic",Value:"Value"})),u(F,"RotationType3D",Object.freeze({None:"None",ImproveXYPlanes:"ImproveXYPlanes",ImproveXZPlanes:"ImproveXZPlanes"})),u(F,"FractalType",Object.freeze({None:"None",FBm:"FBm",Ridged:"Ridged",PingPong:"PingPong",DomainWarpProgressive:"DomainWarpProgressive",DomainWarpIndependent:"DomainWarpIndependent"})),u(F,"CellularDistanceFunction",Object.freeze({Euclidean:"Euclidean",EuclideanSq:"EuclideanSq",Manhattan:"Manhattan",Hybrid:"Hybrid"})),u(F,"CellularReturnType",Object.freeze({CellValue:"CellValue",Distance:"Distance",Distance2:"Distance2",Distance2Add:"Distance2Add",Distance2Sub:"Distance2Sub",Distance2Mul:"Distance2Mul",Distance2Div:"Distance2Div"})),u(F,"DomainWarpType",Object.freeze({OpenSimplex2:"OpenSimplex2",OpenSimplex2Reduced:"OpenSimplex2Reduced",BasicGrid:"BasicGrid"})),u(F,"TransformType3D",Object.freeze({None:"None",ImproveXYPlanes:"ImproveXYPlanes",ImproveXZPlanes:"ImproveXZPlanes",DefaultOpenSimplex2:"DefaultOpenSimplex2"})),class{constructor(e,t){this.x=e,this.y=t}}),O=class{constructor(e,t,i){this.x=e,this.y=t,this.z=i}};function W(r){var{fastNoise:e,amplitudeCurve:t}=(0,V.useMemo)(()=>{var e=new F(r.audioAnalysis.meta.timestamp),t=(e.SetNoiseType(F.NoiseType.Perlin),e.SetFractalType(F.FractalType.FBm),e.SetFractalOctaves(3),e.SetFractalLacunarity(1.5),e.SetFractalGain(.5),r.audioAnalysis.segments),i=t.flatMap(e=>[{x:e.start,y:b(e.loudness_start)},{x:e.start+e.loudness_max_time,y:b(e.loudness_max)}]);return t.length&&(t=t[t.length-1],i.push({x:t.start+t.duration,y:b(t.loudness_end)})),{fastNoise:e,amplitudeCurve:i}},[r.audioAnalysis]);return V.default.createElement(S,{data:{themeColor:r.themeColor,fastNoise:e,amplitudeCurve:t},draw:(i,r,e)=>{i.clearRect(0,0,i.canvas.width,i.canvas.height);var t=Math.min(i.canvas.width,i.canvas.height)/2*.9,a=.75*t,s=t/100,n=(i.canvas.width-t)/2,h=(i.canvas.height-t)/2,l=t/99,o=Spicetify.Player.getProgress()/1e3,_=x(r.amplitudeCurve,o,.15),c=a+(t-a)*_,p=i.canvas.width/2,d=i.canvas.height/2,u=Math.pow((100*_+300)/28,2)/400*t,m=c-u,R=.2*t;i.fillStyle=r.themeColor,i.beginPath();for(let t=0;t<100;t++)for(let e=0;e<100;e++){var D,y=r.fastNoise.GetNoise(4*t,4*e,75*o)*R,C=t*l+n-p+y,P=e*l+h-d+y,y=(y+.5*R)*_,y=Math.sqrt(C*C+P*P+y*y);c<y||(D=(y-m)/u,D=(D=1-(D=Math.max(0,Math.min(D,1))))*(c/y-1)+1,i.moveTo((C=C*D+p)+s,P=P*D+d),i.arc(C,P,s,0,2*Math.PI))}i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=15,i.shadowColor=r.themeColor,i.fill()},style:{width:"100%",height:"100%",objectFit:"contain"},onResize:e=>{var t=Math.min(e.clientWidth,e.clientHeight),t=Math.round(t*window.devicePixelRatio);e.width=t,e.height=t}})}var Y="rgba(11%, 73%, 33%, 100%)";function N(){var e;const[t,i]=(0,C.useState)(0),[r,a]=(0,C.useState)({});return(0,C.useEffect)(()=>{const t=async e=>{var t;e.track&&(e=e.track.uri,Spicetify.URI.isTrack(e))&&(i(0),[e,t]=await Promise.all([Spicetify.getAudioData(e).catch(()=>{}),Spicetify.colorExtractor(e).then(e=>e.VIBRANT).catch(()=>{})]),e)?(a({audioAnalysis:e,themeColor:t}),i(1)):i(2)},e=e=>{null!=e&&e.data&&t(e.data)};return Spicetify.Player.addEventListener("songchange",e),t(Spicetify.Player.data),()=>Spicetify.Player.removeEventListener("songchange",e)},[]),C.default.createElement("div",{className:P.container},0==t?C.default.createElement(T,null):1==t?C.default.createElement(W,{audioAnalysis:r.audioAnalysis,themeColor:null!=(e=r.themeColor)?e:Y}):C.default.createElement("div",{className:P.unavailable_message},"( _  )"))}var H=d(m());return u=R,l(s({},"__esModule",{value:!0}),u)})();const render=()=>ncsDvisualizer.default();